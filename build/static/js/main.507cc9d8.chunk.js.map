{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","oldObject","delete","id","put","Filter","value","onChange","PersonForm","props","onSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","persons","filter","deleteName","p","name","toLowerCase","includes","map","key","number","onClick","Notification","message","style","messageStyle","fontSize","background","borderStyle","borderRadius","padding","marginTop","marginBottom","App","useState","setPersons","setNewName","setNewNumber","newFilt","setNewFilt","addMessage","setAddMessage","delFailMessage","setDelFailMessage","useEffect","personService","initialPersons","event","target","preventDefault","addedName","person","find","window","confirm","returnedPerson","catch","error","setTimeout","addedPerson","concat","console","log","color","oldPerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.507cc9d8.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = oldObject => {\n    const request = axios.delete(`${baseUrl}/${oldObject.id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\nexport default { getAll, create, remove, update }","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\nconst Filter = ({value, onChange}) => (\n  <div>\n    filter with: <input value={value} onChange={onChange} />\n  </div>\n)\n\nconst PersonForm = (props) => (\n  <form onSubmit={props.onSubmit}>\n    <div>\n      name: <input value={props.newName} onChange={props.handleNameChange} />\n    </div>\n    <div>\n      number: <input value={props.newNumber} onChange={props.handleNumberChange} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n)\n\nconst Persons = ({persons, filter, deleteName}) => (\n    persons.filter(\n      p => p.name.toLowerCase().includes(filter.toLowerCase())\n    ).map(\n      p => <p key={p.name}>{p.name} {p.number}  \n        <button id={p.name} onClick={deleteName}>Delete</button>\n      </p>\n    )\n)\n\nconst Notification = ({ message, style }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div style={style}>\n      {message}\n    </div>\n  )\n}\n\nconst messageStyle = {\n  fontSize: 16,\n  background: 'lightgrey',\n  borderStyle: 'solid',\n  borderRadius: 5,\n  padding: 10,\n  marginTop: 10,\n  marginBottom: 10\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([\n    { name: 'Arto Hellas', number: '040-123456' },\n    { name: 'Ada Lovelace', number: '39-44-5323523' },\n    { name: 'Dan Abramov', number: '12-43-234345' },\n    { name: 'Mary Poppendieck', number: '39-23-6423122' }\n  ]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilt, setNewFilt ] = useState('')\n  const [ addMessage, setAddMessage] = useState(null)\n  const [ delFailMessage, setDelFailMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => setPersons(initialPersons))\n  }, [])\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setNewFilt(event.target.value)\n\n  const addName = (event) => {\n    event.preventDefault()\n    const addedName = { name: newName, number: newNumber }\n\n    if (persons.map(person => person.name).includes(newName)) {\n\n      const id = persons.find(p => p.name === newName).id\n      if (window.confirm(`${newName} is already added to phonebook, \n        replace the number with a new one?`)) {\n          personService\n            .update(id, addedName)\n            .then(returnedPerson => {\n              setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n            })\n            .catch(error => {\n              setDelFailMessage(\n                `${addedName.name} was already removed from server`\n              )\n              setTimeout(() => {\n                setDelFailMessage(null)\n              }, 5000)\n              setPersons(persons.filter(p => p.id !== id))\n            })\n        }\n    } else {\n      personService\n        .create(addedName)\n        .then(addedPerson => {\n          setPersons(persons.concat(addedPerson))\n          setNewName('')\n          setNewNumber('')\n          setAddMessage(`Added ${addedPerson.name} to database`)\n          setTimeout(() => setAddMessage(null), 5000)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setDelFailMessage(error.response.data.error)\n          setTimeout(() => {\n            setDelFailMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const deleteName = (event) => {\n    const oldPerson = persons.find(person => person.name === event.target.id)\n    if (window.confirm(`Delete ${oldPerson.name}?`)) {\n      personService\n        .remove(oldPerson)\n        .then(() => setPersons(\n          persons.filter(p => p.name !== oldPerson.name)\n        ))\n    }\n  }\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter value={newFilt} onChange={handleFilterChange} />\n      <h3>Add new</h3>\n      <PersonForm onSubmit={addName} \n                  newName={newName} \n                  handleNameChange={handleNameChange}\n                  newNumber={newNumber}\n                  handleNumberChange={handleNumberChange} />\n      <Notification \n                  message={addMessage} \n                  style={{...messageStyle, color: 'green'}} />\n      <h2>Numbers</h2>\n      <Notification \n                  message={delFailMessage} \n                  style={{...messageStyle, color: 'red'}} />\n      <Persons persons={persons} filter={newFilt} deleteName={deleteName} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}